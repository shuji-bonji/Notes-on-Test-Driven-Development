import{_ as i,c as a,o as h,ag as t}from"./chunks/framework.BdLwk_4I.js";const n="/Notes-on-Test-Driven-Development/images/TDD-flow.svg",g=JSON.parse(`{"title":"テスト駆動開発（TDD）とは","description":"","frontmatter":{},"headers":[],"relativePath":"what's-TDD.md","filePath":"what's-TDD.md"}`),l={name:"what's-TDD.md"};function k(p,s,e,r,d,F){return h(),a("div",null,s[0]||(s[0]=[t('<h1 id="テスト駆動開発-tdd-とは" tabindex="-1">テスト駆動開発（TDD）とは <a class="header-anchor" href="#テスト駆動開発-tdd-とは" aria-label="Permalink to &quot;テスト駆動開発（TDD）とは&quot;">​</a></h1><p>テスト駆動開発（Test-Driven Development, TDD）は、ソフトウェア開発の手法の一つで、テストを先に書いてから実装を行うアプローチです。</p><p>具体的には、「失敗するテストを書く」→「テストが通るコードを書く」→「コードをリファクタリングする」というサイクルを繰り返します。 つまり、「先にテストを書き、そのテストを満たすように最小のコードを書き、リファクタリングする」反復型の設計・開発手法ということです。</p><p>正しく行うことで、堅牢・保守しやすく・バグの少ないコードが書けるようになります。</p><h2 id="tddの基本サイクル-red-green-refactor" tabindex="-1">TDDの基本サイクル（Red-Green-Refactor） <a class="header-anchor" href="#tddの基本サイクル-red-green-refactor" aria-label="Permalink to &quot;TDDの基本サイクル（Red-Green-Refactor）&quot;">​</a></h2><p>このサイクルは TDD の中心的な考え方であり、各ステップを短時間で繰り返すことで、確実に動作するコードを積み重ねていくことができます。</p><h3 id="tddは、以下の短い反復ループで進めていきます。" tabindex="-1">TDDは、以下の短い反復ループで進めていきます。 <a class="header-anchor" href="#tddは、以下の短い反復ループで進めていきます。" aria-label="Permalink to &quot;TDDは、以下の短い反復ループで進めていきます。&quot;">​</a></h3><ol><li>テストリスト（TODOリスト）を作成する:<br> 想定される仕様や振る舞いをテスト項目として書き出す</li><li><code>テストリストから1つ選び、失敗するテストを書く（Red🔴）</code></li><li><code>テストを通す最小の実装を書く（Green🟢）</code></li><li><code>動作を変えずにコードを改善する（Refactor🔵）</code></li><li>このサイクルを繰り返す</li></ol><h4 id="tddのサイクル図" tabindex="-1">TDDのサイクル図 <a class="header-anchor" href="#tddのサイクル図" aria-label="Permalink to &quot;TDDのサイクル図&quot;">​</a></h4><p>以下は、Red→Green→Refactor の流れを視覚的に表現したものです。</p><p><img src="'+n+`" alt="TDDのサイクルフロー図"></p><h4 id="tddサイクルの各フェーズ内容一覧" tabindex="-1">TDDサイクルの各フェーズ内容一覧 <a class="header-anchor" href="#tddサイクルの各フェーズ内容一覧" aria-label="Permalink to &quot;TDDサイクルの各フェーズ内容一覧&quot;">​</a></h4><p>次の表は、それぞれのフェーズで何を目的にし、どのような観点でコードやテストを書くかをまとめたものです。</p><table tabindex="0"><thead><tr><th style="text-align:right;">フェーズ</th><th>目的</th><th>内容</th><th>手法・考え方</th></tr></thead><tbody><tr><td style="text-align:right;">Red 🔴</td><td>要求を定義する</td><td>まず失敗するテストを書く<br>（まだ実装していないので失敗するのが正しい）</td><td><ul><li>未定義の関数から書く</li><li>異常系から書く</li><li>境界値を攻める</li></ul></td></tr><tr><td style="text-align:right;">Green 🟢</td><td>最小で動かす</td><td>テストを通すために最小限の実装を行う<br>（動かすだけ）</td><td><ul><li>明確な実装</li><li>仮実装</li><li>三角測量</li></ul></td></tr><tr><td style="text-align:right;">Refactor 🔵</td><td>動作を保ったまま改善する</td><td>動作を変えずにコードを整理する<br>（リファクタリング）</td><td><ul><li>命名改善・抽出・共通化</li><li>設計パターン導入</li><li>テストの整理</li></ul></td></tr></tbody></table><h2 id="tddの実施例-閏年計算" tabindex="-1">TDDの実施例（閏年計算） <a class="header-anchor" href="#tddの実施例-閏年計算" aria-label="Permalink to &quot;TDDの実施例（閏年計算）&quot;">​</a></h2><p>それでは、具体的な実施例を通じて、TDDの進め方を見ていきましょう。 ここでは、「閏年かどうかを判定する関数」を例にします。</p><h3 id="_1-テストリスト-todoリスト-を作成" tabindex="-1">1. テストリスト（TODOリスト）を作成 <a class="header-anchor" href="#_1-テストリスト-todoリスト-を作成" aria-label="Permalink to &quot;1. テストリスト（TODOリスト）を作成&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/** </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * ストーリーレベル（概要）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * - 西暦を指定し、閏年かどうか判定する</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * テストリストに分解して、Red → Green → Refactor を繰り返す</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * - [ ] 閏年であることを検出</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * - [ ] 閏年ではないことを検出</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * - [ ] 100で割り切れるが400で割り切れない年は閏年ではないことを検出</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * - [ ] 400で割り切れる年は例外的に閏年であることを検出</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * - [ ] 西暦は元年からなので、0より小さい年を指定した場合は、閏年ではないこととする</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span></code></pre></div><h3 id="_2-red-🔴-テストコードを書く" tabindex="-1">2. Red　🔴　: テストコードを書く <a class="header-anchor" href="#_2-red-🔴-テストコードを書く" aria-label="Permalink to &quot;2. Red　🔴　: テストコードを書く&quot;">​</a></h3><p>まず、失敗するテストを書きます。これは新しい機能や修正したいバグを明確に定義します。</p><h4 id="テストコード-tests-leap-year-test-ts" tabindex="-1">テストコード <code>tests/leap-year.test.ts</code> <a class="header-anchor" href="#テストコード-tests-leap-year-test-ts" aria-label="Permalink to &quot;テストコード \`tests/leap-year.test.ts\`&quot;">​</a></h4><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { isLeapYear } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../src/utils/leap-year&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Leap algorithm&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;閏年であることを検出&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isLeapYear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBeTruthy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;閏年ではないことを検出&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isLeapYear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2025</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBeFalsy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;100で割り切れるが400で割り切れない年は閏年ではないことを検出&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isLeapYear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBeFalsy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;400で割り切れる年は例外的に閏年であることを検出&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isLeapYear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBeTruthy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;0年は存在せず、閏年ではないこととする&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isLeapYear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBeFalsy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;紀元前は現在の西暦に変換できず、閏年ではないこととする&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isLeapYear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBeFalsy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><ul><li>このテストは実行すると必ず失敗します（まだ実装していないため）</li><li>何を実装するべきかの明確な要件として機能します</li></ul><h4 id="テスト結果" tabindex="-1">テスト結果 <a class="header-anchor" href="#テスト結果" aria-label="Permalink to &quot;テスト結果&quot;">​</a></h4><p>未だ実装されていないので、当然テストの結果は失敗します。</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RERUN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  src/utils/leap-year.ts</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> x31</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ❯</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tests/leap-year.test.ts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (6 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">tests</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> failed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 4ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ×</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Leap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 閏年であることを検出</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     →</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (0 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> isLeapYear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) is not a function</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ×</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Leap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 閏年ではないことを検出</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     →</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (0 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> isLeapYear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) is not a function</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ×</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Leap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 100で割り切れるが400で割り切れない年は閏年ではないことを検出</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     →</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (0 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> isLeapYear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) is not a function</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ×</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Leap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 400で割り切れる年は例外的に閏年であることを検出</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     →</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (0 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> isLeapYear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) is not a function</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ×</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Leap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0年は存在せず、閏年ではないこととする</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     →</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (0 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> isLeapYear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) is not a function</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ×</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Leap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 紀元前は現在の西暦に変換できず、閏年ではないこととする</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     →</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (0 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> isLeapYear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) is not a function</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                      ...</span></span></code></pre></div><h3 id="_3-green-🟢-最小限の実装コードを書く" tabindex="-1">3. Green 🟢: 最小限の実装コードを書く <a class="header-anchor" href="#_3-green-🟢-最小限の実装コードを書く" aria-label="Permalink to &quot;3. Green 🟢: 最小限の実装コードを書く&quot;">​</a></h3><p>テストが通るように、最小限の実装コードを書きます。</p><h4 id="最小限の実装コード-src-utils-leap-year-ts" tabindex="-1">最小限の実装コード <code>src/utils/leap-year.ts</code> <a class="header-anchor" href="#最小限の実装コード-src-utils-leap-year-ts" aria-label="Permalink to &quot;最小限の実装コード \`src/utils/leap-year.ts\`&quot;">​</a></h4><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* Green Code */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> isLeapYear</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">year</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  year </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> year </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 400</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (year </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> year </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><ul><li>この段階では、コードの美しさよりも「とにかく動くこと」を優先します</li><li>テストが通れば成功です</li></ul><h4 id="テスト結果-1" tabindex="-1">テスト結果 <a class="header-anchor" href="#テスト結果-1" aria-label="Permalink to &quot;テスト結果&quot;">​</a></h4><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RERUN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  src/utils/leap-year.ts</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> x32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ✓</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tests/leap-year.test.ts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (6 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">tests</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 2ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ✓</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Leap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 閏年であることを検出</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ✓</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Leap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 閏年ではないことを検出</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ✓</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Leap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 100で割り切れるが400で割り切れない年は閏年ではないことを検出</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ✓</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Leap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 400で割り切れる年は例外的に閏年であることを検出</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ✓</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Leap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0年は存在せず、閏年ではないこととする</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ✓</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Leap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 紀元前は現在の西暦に変換できず、閏年ではないこととする</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0ms</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Test</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Files</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> passed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (1)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      Tests</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> passed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (6)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   Start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  12:37:19</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   Duration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  7ms</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PASS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Waiting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changes...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       press</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> help,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> press</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> q</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> quit</span></span></code></pre></div><h3 id="_4-refactor-🔵-実装をリファクタリングする" tabindex="-1">4 .Refactor 🔵: 実装をリファクタリングする <a class="header-anchor" href="#_4-refactor-🔵-実装をリファクタリングする" aria-label="Permalink to &quot;4 .Refactor 🔵: 実装をリファクタリングする&quot;">​</a></h3><p>コードの品質を向上させるために、実装をリファクタリングします。</p><h4 id="リファクタリングコード-src-utils-leap-year-ts" tabindex="-1">リファクタリングコード　 <code>src/utils/leap-year.ts</code> <a class="header-anchor" href="#リファクタリングコード-src-utils-leap-year-ts" aria-label="Permalink to &quot;リファクタリングコード　 \`src/utils/leap-year.ts\`&quot;">​</a></h4><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* Code after refactoring */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> isDivisibleBy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">year</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">divisor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> year </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> divisor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> isLeapYear</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">year</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> year </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> isDivisibleBy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(year, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isDivisibleBy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(year, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isDivisibleBy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(year, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><ul><li>テストが引き続き通ることを確認しながら、コードを整理します</li><li>重複の排除、命名の改善、パフォーマンスの向上などを行います</li></ul><h4 id="テスト結果-2" tabindex="-1">テスト結果 <a class="header-anchor" href="#テスト結果-2" aria-label="Permalink to &quot;テスト結果&quot;">​</a></h4><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RERUN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  src/utils/leap-year.ts</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> x32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ✓</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tests/leap-year.test.ts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (6 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">tests</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 2ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ✓</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Leap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 閏年であることを検出</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ✓</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Leap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 閏年ではないことを検出</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ✓</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Leap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 100で割り切れるが400で割り切れない年は閏年ではないことを検出</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ✓</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Leap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 400で割り切れる年は例外的に閏年であることを検出</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ✓</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Leap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0年は存在せず、閏年ではないこととする</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ✓</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Leap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 紀元前は現在の西暦に変換できず、閏年ではないこととする</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0ms</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Test</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Files</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> passed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (1)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      Tests</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> passed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (6)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   Start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  12:37:19</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   Duration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  7ms</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PASS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Waiting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changes...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       press</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> help,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> press</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> q</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> quit</span></span></code></pre></div><h2 id="tddのメリット" tabindex="-1">TDDのメリット <a class="header-anchor" href="#tddのメリット" aria-label="Permalink to &quot;TDDのメリット&quot;">​</a></h2><p>このように、TDDを正しく実践することで、次のような多くの利点を得ることができます。</p><table tabindex="0"><thead><tr><th>観点</th><th>内容</th></tr></thead><tbody><tr><td>設計の明確化</td><td>テストを書くことで仕様が明示され、無駄・矛盾が減る</td></tr><tr><td>バグの早期発見</td><td>コードの各部分がテストされるため、バグをすぐに発見できます</td></tr><tr><td>テスト容易な設計になる</td><td>疎結合・単一責任の構造になりやすい</td></tr><tr><td>リファクタリングしやすくなる</td><td>テストが動作保証してくれるため、安心して整理できる</td></tr><tr><td>ドキュメンテーション</td><td>テストがコードがどのように動作すべきかを示す生きたドキュメントになります</td></tr><tr><td>集中力の向上</td><td>一度に小さなタスクに集中できるため、複雑な問題でも取り組みやすくなります</td></tr></tbody></table><h2 id="tddが特に効果的な場面" tabindex="-1">TDDが特に効果的な場面 <a class="header-anchor" href="#tddが特に効果的な場面" aria-label="Permalink to &quot;TDDが特に効果的な場面&quot;">​</a></h2><p>すべての開発でTDDを使う必要はありませんが、特に以下のような場面で効果を発揮します。</p><ul><li>複雑なドメインロジック（例：税計算、割引条件、状態遷移など）</li><li>ロジック層とUI層の分離ができる構造（SPA / APIなど）</li><li>テストファーストでないと設計が難しい新機能</li><li>高い信頼性が要求される機能（認証、署名、課金、など）</li></ul><h2 id="よくある誤解" tabindex="-1">よくある誤解 <a class="header-anchor" href="#よくある誤解" aria-label="Permalink to &quot;よくある誤解&quot;">​</a></h2><p>ただし、TDDにはいくつかの誤解もつきものです。<br> ここでは代表的な誤解と実際の姿を対比して紹介します。</p><table tabindex="0"><thead><tr><th>誤解</th><th>実際は…</th></tr></thead><tbody><tr><td>テストが先だと非効率</td><td>実際は後戻りが少なくなり、全体効率が上がる</td></tr><tr><td>テストを書くのが面倒</td><td>テストしやすい設計になることで、将来的な工数が大幅に減る</td></tr><tr><td>すべてのコードにTDDすべき</td><td>UIなどTDDに不向きな部分もある（ロジック部分に集中する）</td></tr></tbody></table><h2 id="実践的なtddのヒント" tabindex="-1">実践的なTDDのヒント <a class="header-anchor" href="#実践的なtddのヒント" aria-label="Permalink to &quot;実践的なTDDのヒント&quot;">​</a></h2><p>TDDをうまく取り入れるためには、いくつかの工夫が有効です。<br> 以下に、日々の実装で活かせるヒントを挙げます。</p><table tabindex="0"><thead><tr><th>ヒント</th><th>説明</th></tr></thead><tbody><tr><td>小さなステップで進める</td><td>一度に大きな機能を実装しようとせず、小さな機能ごとにサイクルを回します</td></tr><tr><td>テストケースを慎重に選ぶ</td><td>エッジケースや境界値の検証など、重要なテストケースを考慮します</td></tr><tr><td>モックとスタブを活用する</td><td>外部依存がある場合は、モックやスタブを使ってテストを分離します</td></tr><tr><td>継続的な改善</td><td>TDDの習慣は時間をかけて身につけるものです。最初は難しく感じても継続することが大切です</td></tr><tr><td>リファクタリングを怠らない</td><td>「Green」のステップで通過した後は、必ずリファクタリングを行います</td></tr></tbody></table><h2 id="tddの難しさと対策" tabindex="-1">TDDの難しさと対策 <a class="header-anchor" href="#tddの難しさと対策" aria-label="Permalink to &quot;TDDの難しさと対策&quot;">​</a></h2><p>一方で、TDDには慣れが必要であり、初学者がつまずきやすいポイントも存在します。<br> そうした難しさに対する具体的な対策を紹介します。</p><table tabindex="0"><thead><tr><th>難しさ</th><th>対策</th></tr></thead><tbody><tr><td>初めての学習コスト</td><td>最初は開発速度が落ちるように感じるかもしれませんが、習熟すると生産性が向上します</td></tr><tr><td>テスト可能な設計の難しさ</td><td>テスト可能なコードを書くには、依存関係の分離など設計スキルが必要です</td></tr><tr><td>レガシーコードでの適用</td><td>既存のテストがないコードベースにTDDを導入するのは難しいですが、新規コードや修正部分から徐々に適用できます</td></tr></tbody></table>`,55)]))}const y=i(l,[["render",k]]);export{g as __pageData,y as default};
